# Compose

Блок для создания новой записи

## Обзор блока

Используется для ввода данных для создания новой записи. Можно добавить картинку и ссылку. Ссылка добавляется прямо в тексте записи.

### Модификаторы блока
| Модификатор | Значение | Описание |
| ----------- | -------- | -------- |
|dz|<code>'true'</code>, <code>'false'</code>| Используется для изменения видимости блока dropzone |

## Описание блока

### Поле ввода текста (textarea)

Предназначено для ввода текстовой информации. Количество символов ограничено - 140, после достижения этого значения кнопка 'Отправить блокируется'.
При наличии в тексте ссылки - убирает ее из текста и выводит отдельным блоком.
```js
var textarea_val = textarea.getVal(),
    parse_url = textarea_val.toLowerCase().match(/(https?:\/\/|www)[^\n ,]+/g);

if (parse_url) {
    url = parse_url[0];
    textarea_val = textarea_val.toLowerCase().replace(/(https?:\/\/|www)[^\n ,]+/g, '');
}
```

### Кнопка 'Отправить'

Собирает данные из textarea и блока dropzone и отправляет их на сервер. Неактивна изначально, а так же при отсутствии контента/достижении лимита в 140 символов.

### Кнопка 'Назад'

Возвращает пользователя на страницу 'feed'.

### Блок 'dropzone'

Предоставляет возможность загрузки картинок при помощи dropzone.js